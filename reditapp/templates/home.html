{% extends 'base.html' %} <br />

{% block title %}{% endblock title %} <br />
{% block css %}{% endblock css %} <br />
{% block js %}{% endblock js %} <br />

{% load static %} <br />

{% block content %}
<style>
  .imageuploaduser > input {
    visibility: hidden;
    width: 0;
    height: 0;
  }
  .fileuploaduser > input {
    visibility: hidden;
    width: 0;
    height: 0;
  }
</style>
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
  crossorigin="anonymous"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
/>

<link rel="stylesheet" href="{% static 'css/home.css' %}" />

<div class="col-lg-9">
  <div class="container">
    <form action="" method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="mb-3 mt-5">
        {{fm.mypost}}
        <div class="imageuploaduser">{{fm.postimage}}</div>
        <div class="fileuploaduser">{{fm.postfile}}</div>
      </div>
      <div class="form-inline">
        <button class="btn btn-info" type="submit">Post</button>
        <label for="id_postimage">
          <i class="fa fa-file-image-o me-4 ms-5" aria-hidden="true"></i>
        </label>
        <label for="id_postfile">
          <i class="fa fa-file" aria-hidden="true"></i>
        </label>
      </div>
    </form>
  </div>
  {% comment %} Card Start {% endcomment %} <br />
  {% for newuser in mypost %}
  <div class="f-card">
    <div class="header">
      <div class="options"><i class="fa fa-chevron-down"></i></div>
      <img class="co-logo" src="http://placehold.it/40x40" />
      <div class="co-name"><a href="#">{{newuser.user.name}}</a></div>
      <div class="time"><a href="#">2hrs</a> Â· <i class="fa fa-globe"></i></div>
    </div>
    <div class="content">
      <p>{{newuser.mypost}} See More</p>
    </div>

    <div class="reference">
      <img class="reference-thumb" src="http://placehold.it/476x249" />
      <div class="reference-content">
        <div class="reference-title">
          A quick and simple image placeholder service. | PLACEHOLDER.it
        </div>
        <div class="reference-subtitle">
          How does it work? Just put your image size after our URL and you'll
          get a placeholder.
        </div>
        <div class="reference-font">placeholder.it</div>
      </div>
    </div>

    <div class="social">
      <div class="social-content"></div>
      <div class="social-buttons">
        <span><i class="fa fa-thumbs-up"></i>Like {{newuser.total_likes}}</span>
        <span><i class="fa fa-comment"></i>Comment</span>
        <span><i class="fa fa-share"></i>Share</span>
      </div>
    </div>
  </div>

  {% endfor %}

  <div>
    {% for newuser in mypost %}
    <h1>{{newuser.user.name}}</h1>
    {% if newuser.mypost %}
    <p>{{newuser.mypost}}</p>
    {% endif %}
    <p>{{newuser.total_likes}}</p>

    <form action="/likepost/{{newuser.id}}/" method="POST">
      {% csrf_token %} {% if myuserdata in newuser.likes.all %}
      <button type="submit" id="likes_new" class="btn btn-warning">
        Unliked
      </button>
      {% else %}
      <button type="submit" class="btn btn-primary">liked</button>
      {% endif %}
    </form>
    {% endfor %}
  </div>
</div>

{% endblock content %} <br />
